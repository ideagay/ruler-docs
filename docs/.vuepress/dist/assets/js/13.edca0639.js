(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{170:function(e,a,r){"use strict";r.r(a);var t=r(0),n=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"content"},[r("h1",{attrs:{id:"user"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#user","aria-hidden":"true"}},[e._v("#")]),e._v(" User")]),e._v(" "),r("pre",[r("code",[e._v("import {User} from '@souche-f2e/ruler-tool';\n")])]),e._v(" "),r("h2",{attrs:{id:"fetchcurrentrole"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fetchcurrentrole","aria-hidden":"true"}},[e._v("#")]),e._v(" fetchCurrentRole")]),e._v(" "),r("h3",{attrs:{id:"入参"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("     appId: String\n     needAppRole: Boolean\n")])]),e._v(" "),r("h3",{attrs:{id:"出参"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    roleCode\n    roleName\n    appKey\n    appKey\n    appRoles {\n      roleCode\n      roleName\n      mobileAppId\n      mobileAppName\n    }\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.fetchCurrentRole('1', true).then(res => {\n    console.log(res);\n});\n")])]),e._v(" "),r("h2",{attrs:{id:"fetchall"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fetchall","aria-hidden":"true"}},[e._v("#")]),e._v(" fetchAll")]),e._v(" "),r("h3",{attrs:{id:"入参-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    page: Number\n    number: Number\n    keyword: String\n    appId: String\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"出参-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    totalPage\n    currentPage\n    totalNumber\n    perPageNumber\n    data {\n        _id\n        name\n        nickname\n        gitlab\n        enable\n        created\n        updated\n        roleCode\n        roleName\n        otherRoles {\n          roleCode\n          roleName\n          appId\n        }\n        appRoles {\n          roleCode\n          roleName\n          mobileAppId\n          mobileAppName\n        }\n        tags\n    }\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-2","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.fetchAll().then(res => {\n    console.log(res);\n});\n")])]),e._v(" "),r("h2",{attrs:{id:"fetchbyid"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fetchbyid","aria-hidden":"true"}},[e._v("#")]),e._v(" fetchById")]),e._v(" "),r("h3",{attrs:{id:"入参-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    _id: String\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"出参-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    _id\n    name\n    nickname\n    gitlab\n    enable\n    created\n    updated\n    roleCode\n    roleName\n    otherRoles {\n        roleCode\n        roleName\n        appId\n    }\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法-3"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-3","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.fetchById(_id).then(res => {\n    console.log(res);\n});\n")])]),e._v(" "),r("h2",{attrs:{id:"update"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#update","aria-hidden":"true"}},[e._v("#")]),e._v(" update")]),e._v(" "),r("h3",{attrs:{id:"入参-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    _id: String\n    nickname: String\n    enable: Boolean\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"出参-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    _id\n    name\n    nickname\n    gitlab\n    enable\n    created\n    updated\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法-4"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-4","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.update(_id, nickname, enable).then(res => {\n    console.log(res);\n});\n")])]),e._v(" "),r("h2",{attrs:{id:"updatepermission"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#updatepermission","aria-hidden":"true"}},[e._v("#")]),e._v(" updatePermission")]),e._v(" "),r("h3",{attrs:{id:"入参-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    userId: String\n    roleId: String\n    appId: String\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"出参-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    roleCode\n    roleName\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法-5"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-5","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.updatePermission(userId, roleId, appId).then(res => {\n    console.log(res);\n});\n")])]),e._v(" "),r("h2",{attrs:{id:"search"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#search","aria-hidden":"true"}},[e._v("#")]),e._v(" search")]),e._v(" "),r("h3",{attrs:{id:"入参-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参-6","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    page: Number\n    number: Number\n    keyword: String\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"出参-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参-6","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    totalPage\n    currentPage\n    totalNumber\n    perPageNumber\n    data {\n        _id\n        name\n        nickname\n        gitlab\n        enable\n        created\n        updated\n        roleCode\n        roleName\n        otherRoles {\n          roleCode\n          roleName\n          appId\n        }\n    }\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法-6"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-6","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.search(args).then(res => {\n    console.log(res);\n});\n")])]),e._v(" "),r("h2",{attrs:{id:"deleteuser"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#deleteuser","aria-hidden":"true"}},[e._v("#")]),e._v(" deleteUser")]),e._v(" "),r("h3",{attrs:{id:"入参-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参-7","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    _id: String\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"出参-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参-7","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    _id\n    name\n    psw\n    nickname\n    gitlab\n    enable\n    created\n    updated\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法-7"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-7","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.deleteUser(args).then(res => {\n    console.log(res);\n});\n")])]),e._v(" "),r("h2",{attrs:{id:"fetchuserbytoken"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#fetchuserbytoken","aria-hidden":"true"}},[e._v("#")]),e._v(" fetchUserByToken")]),e._v(" "),r("h3",{attrs:{id:"入参-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#入参-8","aria-hidden":"true"}},[e._v("#")]),e._v(" 入参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    token: String   // 非必传\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"出参-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#出参-8","aria-hidden":"true"}},[e._v("#")]),e._v(" 出参")]),e._v(" "),r("pre",[r("code",[e._v("{\n    _id\n    token\n    name\n    nickname\n    gitlab\n    enable\n    created\n    updated\n    roleCode\n    roleName\n    otherRoles {\n        roleCode\n        roleName\n        appId\n    }\n}\n")])]),e._v(" "),r("h3",{attrs:{id:"用法-8"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#用法-8","aria-hidden":"true"}},[e._v("#")]),e._v(" 用法")]),e._v(" "),r("pre",[r("code",[e._v("User.fetchUserByToken({token: ''}).then(res => {\n    console.log(res);\n});\n")])])])}],!1,null,null,null);n.options.__file="user.md";a.default=n.exports}}]);