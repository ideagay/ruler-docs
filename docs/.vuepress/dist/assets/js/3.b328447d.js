(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{163:function(e,r,n){"use strict";n.r(r);var t=n(0),a=Object(t.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this,r=e.$createElement,n=e._self._c||r;return n("div",{staticClass:"content"},[n("h1",{attrs:{id:"快速上手"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#快速上手","aria-hidden":"true"}},[e._v("#")]),e._v(" 快速上手")]),e._v(" "),n("p",[e._v("本文将介绍如何在项目中使用ruler-tool")]),e._v(" "),n("h2",{attrs:{id:"安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#安装","aria-hidden":"true"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),n("pre",[n("code",[e._v("snpm install @souche-f2e/ruler-tool  --save\n")])]),e._v(" "),n("h2",{attrs:{id:"ruler-tool"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ruler-tool","aria-hidden":"true"}},[e._v("#")]),e._v(" ruler-tool")]),e._v(" "),n("p",[e._v("ruler-tool是平台封装的api工具,目的是让你快速的使用平台提供的接口;目前封装了5大模块,包括用户管理,应用管理,权限管理,表管理,数据接入")]),e._v(" "),n("h3",{attrs:{id:"首先在main-js中设定全局配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#首先在main-js中设定全局配置","aria-hidden":"true"}},[e._v("#")]),e._v(" 首先在main.js中设定全局配置")]),e._v(" "),n("pre",[n("code",[e._v("import {Config} from '@souche-f2e/ruler-tool';\n\nlet appKey = '8f9f7e401f88d0ae55b13f9593229d78';  // 写入自己应用的appkey,可在应用设置里查看\n\nlet errorHandler = ({code, msg}) => {\n    console.error(code + ',' + msg);\n    // do something\n    if (code === 401) { // 401 为token失效的返回码\n        // do something\n    }\n};\n\nConfig.setup({\n    token: xxx,\n    host: 'http://api.ruler.dasouche-inc.net/graphql', // 可不传,默认连线上环境\n    errorHandler: errorHandler,\n    appKey: appKey\n});\n")])]),e._v(" "),n("h3",{attrs:{id:"user登录方法使用示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#user登录方法使用示例","aria-hidden":"true"}},[e._v("#")]),e._v(" user登录方法使用示例")]),e._v(" "),n("pre",[n("code",[e._v("import {User, Config} from '@souche-f2e/ruler-tool';\n\nUser.login(params).then(res => {\n    console.log(res);\n    // do something\n    Config.token = res.token; // 登录后重写token\n}).catch((err) => {\n    console.error(err);\n});\n")])]),e._v(" "),n("h2",{attrs:{id:"按需引入"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#按需引入","aria-hidden":"true"}},[e._v("#")]),e._v(" 按需引入")]),e._v(" "),n("p",[e._v("借助babel-plugin-import实现按需引入,以达到减小项目体积的目的")]),e._v(" "),n("p",[e._v("1.8.x版本及以上不需要使用此插件")]),e._v(" "),n("p",[e._v("首先安装babel-plugin-import")]),e._v(" "),n("pre",[n("code",[e._v("snpm install babel-plugin-import --save-dev\n")])]),e._v(" "),n("p",[e._v("然后,在.babelrc的plugins中添加配置,以下代码只展示babel-plugin-import部分配置,其他配置根据自己项目添加")]),e._v(" "),n("pre",[n("code",[e._v('{\n  "plugins": [[\n    "import",\n    [\n      {\n        "libraryName": "@souche-f2e/ruler-tool"\n      }\n    ]\n  ]]\n}\n')])])])}],!1,null,null,null);a.options.__file="README.md";r.default=a.exports}}]);